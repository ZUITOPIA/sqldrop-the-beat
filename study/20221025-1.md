> 20221025 기록 : 정규화와 성능

### 정규화를 통한 성능 향상 전략

데이터 모델링 정규화 - 데이터 처리 성능 향상 (데이터 중복 제거, 관심사별로 처리)
데이터 처리 성능 : 조회 성능 + 입력, 수정, 삭제 성능

> 주의!
> 정규화를 수행할 때 엔터티가 계속 발생되므로 SQL 문장에서 조인이 많이 발생하여 데이터 조회 성능이 오히려 저하될 수도 있지만, 데이터 조회 성능 저하가 무조건적인 것은 아님!
> -> 사례별로 유의하여 반정규화를 적용하는 전략이 필요

---

## 여기서 잠깐, 개념 정리 !

### 데이터 베이스 제약조건

- 데이터의 무결성을 지키기 위해 입력받은 데이터에 대한 제한을 두는 것
- 테이블 수정 작업하는 경우 잘못된 트랜잭션 수행을 방지하는 것
- 테이블 간 제약조건이 있어서 종속성이 있는 경우 테이블 삭제를 방지하는 것

|          이름           |                                                   특징                                                   |
| :---------------------: | :------------------------------------------------------------------------------------------------------: |
| 기본키 PK (Primary Key) | 테이블 행 데이터를 **고유하게 식별하기 위한** 키, 하나의 테이블에 하나의 기본키 (고유키 + NOT NULL 제약) |
|    고유키 Unique Key    |            테이블 행 데이터를 고유하게 식별하기 위한 키, 값이 있어야만 고유키 제약 대상이 됨             |
|        NOT NULL         |                               입력값이 필수로 존재해야 함, CHECK 의 일부분                               |
|          CHECK          |                                     입력할 수 있는 값의 범위를 제한                                      |
| 외래키 FK (Foreign Key) |                     테이블간의 관계 정의를 위해 기본키를 다른 테이블의 외래키로 복사                     |

### 데이터 무결성 제약조건

> 무결성 : 신뢰할 수 있는 서비스 제공을 위해서 의도하지 않은 요인에 의해 데이터, 소프트웨어, 시스템 등이 변경되거나 손상되지 않고 완전성, 정확성, 일관성을 유지함을 보장하는 특성

- 개체 무결성
  - 테이블은 기본 키를 지정하고, 기본 키는 NULL이 아닌 오직 하나의 값이 존재해야 함
- 참조 무결성 (Referential Integrity (외래키 제약 foreign key constraint)
  - 자식은 부모의 기본 키와 도메인이 동일해야하며, 자식의 값이 변경될 때 부모의 제약을 받음
  - 쉽게 이해하자면, 기본 키 테이블의 데이터를 변경할 때 외래 키 테이블에 있는 데이터로의 연결이 무효화 될 가능성이 있으면 그 데이터를 변경하지 못하도록 하여 참조 무결성을 강제 적용하는 것
- 도메인 무결성
  - 테이블에 존재하는 필드의 무결성 보장을 위한 것으로, 필드의 타입이나 NULL 값 허용 등에 대한 사항을 정의하고 올바른 데이터가 입력되었는지 확인 (e.g. 주민등록번호 필드에 문자가 입력된 경우 무결성 깨짐 확인)
- NULL 무결성
  - 테이블 특정 속성 값이 NULL이 될 수 없도록 함
- 고유 무결성
  - 테이블의 특정 속성에 대해 각 레코드 들이 갖는 값이 서로 달라야 함
- 키 무결성
  - 하나의 테이블에는 적어도 하나의 키가 존재해야 함
- 관계 무결성
  - 테이블의 어느 한 레코드의 삽입 가능 여부 또는 한 테이블과 다른 테이블의 레코드들 사이의 관계에 대한 적절성 여부를 지정한 조건

---
